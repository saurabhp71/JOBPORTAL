@model JobPortalLibrary.Employer.EmployerUser

@{
    ViewBag.Title = "PlanDetails";
    Layout = "~/Views/Shared/Employer_Layout.cshtml";
}

<head>
    <style>
        .tabprofile {
            height: 160px;
            padding: 30px;
        }


        .profile-image {
            padding: 10px;
        }

        .img-seeker {
            background-image: url('../../content/images/companylogo1.jpg');
            background-position: center;
            background-size: 80px;
        }

        .company {
            margin-left: 110px;
            margin-top: -100px;
        }

        .checked {
            color: gold;
        }
    </style>
</head>
@*<table class="table table-striped table-bordered">*@
<body>
    @if (@Model != null)
    {

        <br />

        <div class="row">
            @foreach (var item in @Model.LstUser)
            {
                <div class="col">
                    <div class="tabprofile">
                        <div class="card d-flex dynamic-card mb-1" style="width: calc(70% - 10px); margin: 5px; border-radius: 10px; box-shadow: 0 0 16px #b7b7b82e; position: relative; overflow: hidden; color: #1c4980; font-size: 15px; overflow-wrap: break-word; ">
                            <div style="background: linear-gradient(90deg,#9F5EF1 0%,rgba(186,131,255,0) 100%); content:''; position: absolute; top: 0; left: 0; width: 100%; height: 8px;">

                            </div>
                            <dl>
                                <div style="font-weight: 700; font-size: 22px; line-height: 140%; color: #1c4980; border-bottom: 1px solid #DDE5EA; padding: 0 35px; display: flex;
flex-direction: column; justify-content: center; color: #1c4980; font-size: 25px; overflow-wrap: break-word;">
                                    &nbsp;&nbsp;
                                    <dd>
                                        @Html.HiddenFor(modelItem => item.SubscriptionId)
                                    </dd>


                                    <dd>
                                        <b>
                                            @Html.DisplayFor(modelItem => item.SubscriptionName)
                                        </b>
                                        <div style="font-size:15px;">
                                            @Html.DisplayFor(modelItem => item.SubscriptionDetails)
                                        </div>
                                    </dd>

                                    @*<dd style="font-size:15px;">
                                    @Html.DisplayFor(modelItem => item.SubscriptionDetails)
                                </dd>*@

                                </div>
                                <br />
                                <dd>
                                    <div style="font-size: 20px; color: #1c4980; text-align: center;">
                                        <del>  ₹ @Html.DisplayFor(modelItem => item.PlanPricing)/@Html.DisplayFor(modelItem => item.SubscriptionDuration)</del>
                                    </div>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Price after offer
                                    <div style="font-size: 25px; color: #1c4980; text-align: center;">
                                        <b> ₹ @Html.DisplayFor(modelItem => item.OfferedPrice)/@Html.DisplayFor(modelItem => item.SubscriptionDuration)</b>
                                    </div>
                                </dd>
                                <dd>
                                    <button style="margin-left:60px;background: #9F5EF1; color: #fff; height: 40px; border-radius: 12px; font-weight: 500;border-color:transparent; font-size: 14px; line-height: 17px; text-align: center;width: 50%; display: flex; align-items: center; justify-content: center; margin-top: 10px; ">
                                        <a style="color: #fff; font-size: 14px; " class="GetPlanDetails" href="javascript:;" data-id="@item.SubscriptionId">Choose this plan</a>

                                    </button>
                                    <br />
                                </dd>
                                <dd>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <b> <span style='font-size: 25px;'>&#9733;&nbsp;Benefits</span> </b>
                                </dd>
                                <dd style="font-size: 20px; color: #1c4980; text-align: center; ">

                                    ✔@Html.DisplayFor(modelItem => item.Benefits)
                                </dd>





                                @*<dd style="font-size:25px;color:black">
                                @Html.DisplayFor(modelItem => item.Offer)
                            </dd>
                            <dd style="font-size:25px;color:black">
                                @Html.DisplayFor(modelItem => item.OfferedPrice)/-
                            </dd>*@
                            </dl>


                            <!--<dl class="dl-horizontal" style=" margin-left:30px;margin-top:10px">
                    <div class="profile-image">
                        <dd style="font-size:22px;color:black">
                            @Html.HiddenFor(modelItem => item.SubscriptionId)
                        </dd>-->
                            @*<dd style="font-size:25px;color:black">
                            <img class="img-seeker" src="~/Content/images/@item.CompanyLogo" height="75" width="75">
                        </dd>*@
                            <!--</div>
                        <div class="company">
                            <dd style="font-size:25px;color:black">
                                @Html.DisplayFor(modelItem => item.SubscriptionName)
                            </dd>
                            <dd style="font-size: 14px; color: darkslategray; margin-top: -12px; ">
                                <i class="fa fa-star checked"></i> @Html.DisplayFor(modelItem => item.Benefits) |
                                 Reviews
                            </dd>
                            <dd style="font-size: 14px; color: darkslategray;margin-top:-16px;">
                                @Html.DisplayFor(modelItem => item.PlanPricing)
                            </dd>
                            <dd style="font-size: 14px; color: darkslategray;margin-top:-16px;">
                                @Html.DisplayFor(modelItem => item.Offer)
                            </dd>
                            <dd style="font-size: 14px; color: darkslategray;margin-top:-16px;">
                                @Html.DisplayFor(modelItem => item.OfferedPrice)
                            </dd>
                        </div>

                    </dl>-->


                        </div>

                    </div>

                </div>
                <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
                <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
            }
        </div>
    }
    @*</table>*@
</body>
<div id="partialModal" class="modal" tabindex="-1" role="dialog" style="position:center;margin-left:200px;" >
    <div class="modal-dialog modal-lg" role="document" >
        <div class="modal-content" style="width:500px;height:300px;">
            <div class="modal-header">
              
                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>*@
            </div>
            <div class="modal-body">
            </div>
            @*<div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>*@
        </div>
    </div>
</div>
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/bootstrap.js"></script>
<script type="text/javascript">
    $(function () {
        $(".GetPlanDetails").click(function () {
            var $buttonClicked = $(this);
            var id = $buttonClicked.attr('data-id')
            /* var id = $(this).closest("tr").find("td").eq(0).html();*/
            $.ajax({
                type: "GET",
                url: "/Employer/GetPlanDetails",
                data: { SubscriptionId: id },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (response) {
                    $("#partialModal").find(".modal-body").html(response);
                    $("#partialModal").modal('show');
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        });
    });
</script>
